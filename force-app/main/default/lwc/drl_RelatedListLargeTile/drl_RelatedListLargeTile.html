<template>
    <div class="tile">
        <article class="slds-tile slds-hint-parent">
          <div class="slds-grid slds-grid_align-spread">
            <h3 class="slds-tile__title slds-truncate" title={tileTitle}>
                <a href={navURL} target="_blank">{tileTitle}</a>
            </h3>
            <template if:true={showActions}>
            <div class={menuDivClasses}>
              <button class="slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small" aria-haspopup="true" aria-expanded="true" title="More options" onclick={openActionMenu}>
                <svg class="slds-button__icon slds-button__icon_hint" aria-hidden="true">
                  <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"></use>
                </svg>
                <span class="slds-assistive-text"></span>
              </button>
              <div class="slds-dropdown slds-dropdown_right slds-dropdown_actions">
                <ul class="slds-dropdown__list" role="menu">
                    <template if:true={showEditAction}>
                        <lightning-menu-item class="slds-dropdown__item" value="Edit" label="Edit" role="presentation" onclick={handleActionClick}>
                        </lightning-menu-item>
                    </template>
                    <template if:true={showDeleteAction}>
                        <lightning-menu-item class="slds-dropdown__item" value="Delete" label="Delete" role="presentation" onclick={handleActionClick}>
                        </lightning-menu-item>
                    </template>
                </ul>
              </div>
            </div>
            </template>
          </div>
          <div class="slds-tile__detail">
            <dl class="slds-list_horizontal slds-wrap">
                <template for:each={tileDetails} for:item="element">
                    <dt class="slds-item_label slds-text-color_weak slds-truncate" title={element.label} key={element}>{element.label}:</dt>
                    <dd class="slds-item_detail slds-truncate" key={element}>
                        <template if:true={element.isURL}>
                            <lightning-formatted-url value={element.value} tooltip={element.urlTitle} label={element.urlTitle} target="_blank" ></lightning-formatted-url>
                        </template>
                        <template if:true={element.isText}>
                            <lightning-formatted-text value={element.value}></lightning-formatted-text>
                        </template>
                        <template if:true={element.isDateLocal}>
                            <lightning-formatted-date-time value={element.value} year={element.year} month={element.month} day={element.day}></lightning-formatted-date-time>
                        </template>
                        <template if:true={element.isDate}>
                            <lightning-formatted-date-time value={element.value} year={element.year} month={element.month} day={element.day}
                                                            era={element.era} hour={element.hour} hour12={element.hour12} minute={element.minute}
                                                            second={element.second} time-zone={element.timeZone} time-zone-name={element.timeZoneName}
                                                            weekday={element.weekday}
                                                            ></lightning-formatted-date-time>
                        </template>
                        <template if:true={element.isDate}>
                            <lightning-formatted-date-time value={element.value} year={element.year} month={element.month} day={element.day}
                                                            era={element.era} hour={element.hour} hour12={element.hour12} minute={element.minute}
                                                            second={element.second} time-zone={element.timeZone} time-zone-name={element.timeZoneName}
                                                            weekday={element.weekday}
                                                            ></lightning-formatted-date-time>
                        </template>
                        <template if:true={element.isEmail}>
                            <lightning-formatted-email value={element.value} hide-icon></lightning-formatted-email>
                        </template>
                        <template if:true={element.isNumber}>
                            <lightning-formatted-number value={element.value} maximum-fraction-digits ={element.minimumFractionDigits}
                                                        maximum-significant-digits ={element.maximumSignificantDigits}
                                                        minimum-significant-digits ={element.minimumSignificantDigits}
                                                        minimum-fraction-digits ={element.minimumFractionDigits}
                                                        minimum-integer-digits ={element.minimumIntegerDigits}
                            ></lightning-formatted-number>
                        </template>
                        <template if:true={element.isPercent}>
                            <lightning-formatted-number value={element.value} maximum-fraction-digits ={element.minimumFractionDigits}
                                                        maximum-significant-digits ={element.maximumSignificantDigits}
                                                        minimum-significant-digits ={element.minimumSignificantDigits}
                                                        minimum-fraction-digits ={element.minimumFractionDigits}
                                                        minimum-integer-digits ={element.minimumIntegerDigits}
                            ></lightning-formatted-number>
                        </template>
                        <template if:true={element.isPhone}>
                            <lightning-formatted-phone value={element.value} ></lightning-formatted-phone>
                        </template>
                        <template if:true={element.currency}>
                            <lightning-formatted-number value={element.value} maximum-fraction-digits ={element.minimumFractionDigits}
                                                        maximum-significant-digits ={element.maximumSignificantDigits}
                                                        minimum-significant-digits ={element.minimumSignificantDigits}
                                                        minimum-fraction-digits ={element.minimumFractionDigits}
                                                        minimum-integer-digits ={element.minimumIntegerDigits}
                                                        currency-code ={element.currencyCode}
                                                        currency-display-as={element.currencyDisplayAs}
                            ></lightning-formatted-number>
                        </template>
                    </dd>
              
                </template>
            </dl>
          </div>
        </article>
      </div>
</template>